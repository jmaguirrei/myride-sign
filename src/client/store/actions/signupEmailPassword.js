export default store => () => {  const language = store.get('language');  const name = store.get('signup.name');  const email = store.get('signup.email').toLowerCase();  const _id = store.uid();  return {    steps: [      () => {        store.set({ 'signup.buttonPressed': true });        return store.callServer('isEmailRegistered', { email });      },      res => {        if (res.isRegistered || res.isFBRegistered) {          const error = res.isRegistered ? 'EMAIL_ALREADY_REGISTERED' : 'ALREADY_FB_REGISTERED';          store.addAlert({ name: error, timeout: 4000 });          return { error };        }        return store.callServer('createUserEntity', { _id, name, email });      },      () => {        store.set({          user_id: _id,          'signup.currentStep': 1,          'signup.buttonPressed': false,        });        return store.callServer('sendTokenEmail', { email, language, tokenField: 'signupToken' });      },    ],  };};