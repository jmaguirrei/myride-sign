/* ------------------------------------------------------------------------------------------------===== SIGNUP WORFLOW =====0: NAME1: EMAIL    isRegistered ?    - true: error    - false: continue2: PASSWORD    sendEmail (signupToken)3: TOKEN    - ko: error    - ok: isRegistered, setPassword => Welcome!-------------------------------------------------------------------------------------------------*/export const SignupControl = store => {  const language = store.get('language');  const currentStep = store.get('signup.currentStep');  if (currentStep === 0) {    // Create account    const nameCheck = store.check('name', store.get('signup.name'));    const emailCheck = store.check('email', store.get('signup.email'));    const passwordCheck = store.check('password', store.get('signup.password'));    if (nameCheck.result && emailCheck.result && passwordCheck.result) {      store.call('signupEmailPassword');    } else {      const checkText = !nameCheck.result        ? store.utils.get(nameCheck, `message.${language}`, '')        : !emailCheck.result          ? store.utils.get(emailCheck, `message.${language}`, '')          : store.utils.get(passwordCheck, `message.${language}`, '');      store.addAlert({ message: checkText, timeout: 5000 });    }  } else if (currentStep === 1) {    // Validate Token    const tokenCheck = store.check('token', store.get('signup.tokenDigits'));    if (tokenCheck.result) {      store.call('signupToken');    } else {      const checkText = store.utils.get(tokenCheck, `message.${language}`, '');      store.addAlert({ message: checkText, timeout: 5000 });    }  } else {    store.route('app');  }};